# mall 功能完成進度

## 框架搭建

功能 | 完成 
----|----
集成MyBatis | ✔
集成MyBatisGenerator | ✔
集成SpringSecurity | ✔
集成Swagger-UI | ✔
集成Hibernator-Validator | ✔
集成日誌功能 | ✔
集成監控功能 | ✔
crud操作demo | ✔
合理規劃包結構 | ✔
SpringAOP通用日誌處理 | ✔
SpringAOP通用驗證失敗結果返回 | ✔
CommonResult對通用返回結果進行封裝 | ✔
SpringSecurity登錄改為Restful形式 | ✔
JWT登錄、註冊、獲取token | ✔
JTA事務處理 | ✔
集成單元測試 | ✔
OSS上傳功能 | ✔
Elasticsearch搜索功能 | ✔
HTTPS支持 | ✔
Redis數字型ID生成 | ✔
SpringTask定時任務支持 | ✔
docker容器化部署 | ✔
配置區分生產和測試環境 | ✔
ELK日誌收集功能 | ✔
RabbitMq異步通信 | ✔
RestTemplate服務間調用 | ✔
SpringSecurity權限管理功能 | ✔
集成SpringCloud |

## 後台功能

### 後台登錄功能 

- 後台用戶註冊功能
- 後台用戶登錄後獲取token
- 刷新token功能

### 商品管理 

> **商品分類管理**

- 按父分類編號分頁查看分類列表
- 添加、編輯、刪除分類
- 轉移分類商品

> **商品品牌管理**

- 按品牌名稱搜索分頁查看品牌列表
- 添加、編輯、刪除品牌
- 查看當前品牌的所有產品

> **商品屬性分類管理**

- 添加商品屬性分類（名稱）
- 分頁查詢全部商品屬性分類
- 刪除單個商品屬性分類
- 修改單個屬性分類名稱
- 查詢單個屬性分類信息

> **商品屬性管理**

- 根據分類查詢屬性列表或參數列表（分頁，支持類型）
- 添加商品屬性
- 查詢單個商品屬性
- 編輯商品屬性
- 批量刪除商品屬性
- 分頁查詢全部商品屬性

> **添加商品**

- 選擇商品分類：根據商品分類id查找分類
- 選擇品牌：查詢全部品牌
- 選擇運費模版：查詢全部運費模版
- 設置會員價格：查詢所有會員等級，傳入List<PmsMemberPrice>
- 添加階梯價格: 參數傳入List<PmsProductLadder>
- 設置滿減價格: 參數傳入List<PmsProductFullReduction>
- 選擇商品屬性類別:獲取所有商品屬性分類，根據商品屬性分類的id獲取規格和參數(type=0->規格；type=1->參數)
- 選擇規格並生成庫存信息：前端實現
- 添加sku庫存信息：參數傳入List<PmsSkuStock>
- 設置屬性圖片：設置到pic和album_pics字段中去
- 添加商品參數：參數傳入List<PmsProductAttributeValue>
- 添加自定義商品規格：參數傳入List<PmsProductAttributeValue>
- 關聯專題:參數傳入List<CmsSubjectProductRelation>關係
- 關聯優選:參數傳入List<CmsPrefrenceAreaProductRelation>關係

> **修改商品**

- 根據商品id查詢商品信息
- 查詢商品基本信息：商品分類名稱、品牌名稱、運費模版名稱
- 查詢商品促銷信息：商品的會員價格、階梯價格、滿減價格
- 查詢商品屬性信息：商品屬性類別名稱、sku庫存信息、屬性分類對應規格和參數值
- 查詢商品關聯信息：商品關聯專題和關聯優選
- 修改商品信息：商品屬性分類及規格不可修改，只支持單個sku的修改、刪除、新增；商品屬性分類及規格可以修改：修改後同時顯示原sku庫存及屬性分類

> **商品分頁查詢**

- 商品的狀態：全部商品、已上架、未上架、待審核、未通過 (publishStatus verifyStatus)
- 商品名稱(%name%)
- 商品貨號(productSn)
- 商品分類id(productCategoryId)
- 商品品牌id(brandId)
- 批量操作：上下架、推薦、新品、轉移分類、放入回收站、審核
- 查看記錄：審核記錄，操作日誌
- sku:根據產品及sku編號獲取sku信息，批量修改sku信息

> **商品回收管理**

- 分頁展示回收商品列表
- 回收商品還原功能

#### 促銷管理

> **秒殺活動管理**

- 活動列表展示
- 活動上下線
- 設置活動商品
- 添加、編輯、刪除活動

> **優惠券管理**

- 優惠券列表展示
- 添加、編輯、刪除優惠券
- 查看優惠券領取記錄

> **活動管理**

- 活動列表展示
- 添加、編輯、刪除活動
- 活動上下線
- 發佈到廣告

> **首頁推薦**

- 品牌推薦：列表展示、是否推薦、排序、刪除、多選加入品牌
- 新鮮好物：商品列表展示、是否推薦、排序、刪除、多選加入商品
- 人氣推薦：商品列表展示、是否推薦、排序、刪除、多選加入商品
- 專題精選：專題列表展示、是否推薦、排序、刪除、多選加入專題
- 廣告管理：廣告列表展示、是否上線、排序、刪除、添加編輯廣告

### 內容管理

> **專題管理**

- 專題列表：查看、刪除、推薦專題
- 添加、編輯專題：選擇專題分類、添加、刪除關聯商品
- 專題分類管理：控制顯示、排序、編輯刪除分類

> **優選主題**

- 優選列表：控制顯示、排序、刪除
- 添加、編輯優選：關聯和刪除商品

> **話題管理**

- 專題列表：查看、刪除、熱門話題
- 話題分類管理：控制顯示、排序、編輯刪除分類

> **幫助管理**

- 幫助列表：查看、刪除、控制顯示
- 添加、編輯幫助：選擇幫助分類
- 幫助分類管理：控制顯示、排序、編輯刪除分類

### 用戶管理

> **用戶管理**

- 用戶列表：帳號啟用、刪除、群發短信
- 批量操作：群發短信、站內信、推送、設置標籤、贈送優惠券
- 查看、編輯用戶信息：用戶詳情（統計信息、收貨地址、訂單記錄）、編輯資料、登錄日誌
- 購買力篩選：最近消費、消費次數、消費金額、訂單均價、商品分類、會員等級、用戶標籤
- 用戶標籤管理：標籤列表、添加、編輯、刪除
- 會員等級設置：列表、添加、編輯、設置默認會員等級

> **成才值及積分**

- 成長值及積分查詢：列表展示、積分明細、成長值明細、修改數值
- 任務獎勵設置：新手任務、日常任務
- 更多規則設置：成長值規則、積分規則、積分消費設置

### 訂單管理

> **訂單列表**

- 訂單搜索：訂單編號、收貨人姓名/號碼、訂單狀態、訂單分類、訂單來源、提交時間
- 訂單操作：查看訂單、關閉訂單、訂單發貨、訂單跟蹤、刪除訂單
- 批量操作：批量發貨、關閉訂單、刪除訂單

> **查看訂單**

- 訂單狀態：提交訂單、支付訂單、平台發貨、確認收貨、完成評價
- 訂單詳情操作：修改發票信息、修改收貨人信息、修改商品信息、修改費用信息、發送站內信、關閉訂單、備註訂單、取消訂單、訂單跟蹤、刪除訂單
- 訂單基本信息：訂單信息、優惠信息、用戶信息
- 發票信息：類型、抬頭、內容、收票人信息
- 收貨人信息：收貨人、手機號、郵政編碼、收貨地址
- 商品信息：包含商品基本信息
- 費用信息：合計及優惠信息
- 操作信息：訂單狀態改變記錄

> **訂單設置**

- 秒殺訂單超時時間
- 正常訂單超時時間
- 訂單自動完成時間
- 自動結束交易時間
- 自動好評時間

> **退貨申請處理**

- 退貨申請搜索：服務單號、收貨人姓名/號碼、處理狀態、申請時間、操作人員、處理時間
- 批量操作：刪除
- 查看詳情：退貨商品、服務單信息、確認退貨、拒絕退貨、確認收貨

> **退貨原因設置**

- 原因列表：類型、排序、是否啟用、添加時間
- 添加、編輯原因：同上
- 批量操作：刪除

### 權限管理

> **權限管理**

- 權限管理：添加權限、刪除權限、修改權限、以樹形結構返回權限
- 角色管理：添加角色、刪除角色、更新角色、角色列表、獲取相應角色權限、修改相應角色權限
- 成員管理：添加、編輯、刪除成員、成員列表、為成員分配角色、獲取成員角色、分配+-權限、獲取權限列表

角色 | 菜單 
----|----
管理員 | 所有菜單權限
運營 | 首頁、用戶、促銷、運營、內容
財務 | 首頁、統計、財務
美工 | 首頁、商品
客服 | 首頁、商品、訂單

## 前台功能

### 商品搜索

> **綜合搜索功能**

- 搜索：根據商品標題、副標題、關鍵字進行搜索；
- 篩選：未選擇分類時聚合搜索結果，選擇出現次數最多的分類，選擇分類以後可以根據選擇分類的篩選字段進行篩選；
- 排序：按新品、銷量、價格進行排序
- 搜索返回結果：商品ID、商品圖片、名稱、副標題、價格、商品銷量、新品、商品的參數、品牌名稱、分類名稱
- 接口：從數據庫中查詢相關數據並導入es,插入（修改）數據接口，刪除數據接口
- 品牌分類篩選：根據搜索結果聚合返回品牌、分類及屬性

> **商品推薦功能**

- 推薦某商品的相關商品、根據該商品的品牌（10）、分類（6）、名稱（8）、關鍵字（2）、副標題（2）
- 根據用戶一周瀏覽記錄推薦商品，根據用戶搜索記錄推薦商品

> **商品熱搜功能**

- 根據用戶搜索記錄聚合生成熱搜詞

> **商品搜索聯想功能** 

- 根據用戶搜索記錄聚合生成熱搜詞

### 購物流程

> **購物車** 

- 添加商品到購物車
- 購物車商品列表（商品主圖、商品名稱、商品數量、商品規格）
- 修改購物車中商品數量
- 購物車中商品重選規格
- 購物車中商品刪除功能

> **生成確認單** 

- 生成確認單信息：收貨信息、商品信息、價格信息、發票信息、支付方式
- 選擇收貨地址：默認收貨地址
- 選擇優惠券及積分抵扣：展示可用優惠券和不可以優惠券
- 計算商品價格：商品合計、運費、優惠券抵扣、積分抵扣、活動優惠
- 選擇支付方式：在線支付及貨到付款
- 計算應付金額：合計+運費-優惠券抵扣-積分抵扣-活動優惠

> **提交訂單** 

- 將確認單信息轉化為訂單
- 刪除購物車中相關商品
- 添加訂單到數據庫並鎖定庫存
- 在線支付選擇支付方式：支付寶、微信、銀聯、ApplePay

> **支付訂單**

- 支付完成後修改訂單狀態為已支付、扣除庫存

> **取消訂單（未支付情況下）**

- 訂單超時後自動取消訂單，解除商品庫存鎖定，返還優惠券，積分

#### 會員模塊（我的）

> **我的關注**

- 關注品牌列表：品牌logo、名稱、地址、關注數量
- 取消關注功能
- 關注列表展示

> **我的收藏**

- 收藏的商品：商品主圖、名稱、賣點、價格、找相似
- 收藏的專題：專題主圖、標題、副標題、收藏數、瀏覽數、評論數
- 收藏的話題：話題主圖、標題、副標題、收藏數、瀏覽數、評論數

> **我的足跡**

- 瀏覽過的商品：商品主圖、名稱、賣點、價格、找相似
- 刪除記錄功能
- 瀏覽列表展示

> **會員登錄註冊**

- 登錄功能：https登錄
- 註冊功能：用戶名、密碼、手機號、手機驗證碼
- 獲取驗證碼：後台生成驗證碼，驗證碼綁定手機號
- 忘記密碼：手機號、短信驗證碼、新密碼
- 登出功能
